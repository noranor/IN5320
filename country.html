<! doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Mandatory Assignment 1.2</title>
        <style>
                h1{
                    font-family: Arial;
                    font-size: 2em;
                }
    
                h2{
                    font-family: Arial;
                    font-size: 1em;
                }
    
        </style>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script type="text/javascript">
                let countryList = document.getElementById("countryList");
                let inputArray = [];

                function addUserInput(){
                    var input = document.getElementById("userInput").value, 
                        ul = document.getElementById("countryList"), 
                        li = document.createElement("li"), 
                        inputTxt = document.createTextNode(input);
                    
                    inputArray.push(input);
                    
                    const button = document.createElement("button");
                    button.innerHTML=" X";

                    button.addEventListener("click", function(e){
                        button.parentNode.parentNode.removeChild(button.parentNode);
                        inputArray.pop(button.parentNode);
                    });
                    
                    li.appendChild(inputTxt);
                    li.appendChild(button);
                    ul.appendChild(li);

                    document.getElementById("userInput").value = "";
                }

                function offlineStorage(inputArray, myFunction){
                    for( var i = 0; i < inputArray.length; i++){
                        // Finn ut hvordan man kan sjekke console-loggen.
                        console.log("Looper gjennom " + inputArray[i] + " i array.");
                        myFunction(inputArray[i]);
                    }

                    // The function should be applied to all elements in the list. 
                    // your function should iterate through the array of strings, 
                    // and call myFunction with the current string as an argument. 
                }
                 
                // Combine this function with the function created in step 2 to 
                // populate the list based on what is stored in the browser.

                function myFunction(e){
                    if (typeof(Storage) !== "undefined") {
                         // Code for localStorage/sessionStorage. 
                         localStorage.setItem(e);  // Se w3schools
                    } else {
                        // Sorry! No Web Storage support..
                        //alert()?
                    }
                }


        </script>
    </head>
    <body>
        <header>
            <section>
                <h1>Countries</h1>
                <h2>Write some country names and watch the magic happen.</h2>
            </section>
        </header>

        <input type="country" name="userInput" id="userInput" placeholder="Country">
        <button onclick="addUserInput()">Add</button>

        <ul id="countryList">
        </ul>
    </body>
    </html>